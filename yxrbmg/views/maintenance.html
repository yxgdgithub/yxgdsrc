<link href="libs/bootstrap-modal/css/bootstrap-modal-bs3patch.css" rel="stylesheet" type="text/css" />
<link href="libs/bootstrap-modal/css/bootstrap-modal.css" rel="stylesheet" type="text/css" />
<div class="page-bar">
    <ul class="page-breadcrumb">
        <li>
            <i class="fa fa-home"></i>
            <a ui-sref="dashboard">首页</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a ui-sref="#">共读维护</a>
        </li>
    </ul>
</div>
<h1 class="page-title"></h1>
<div class="row">
    <div class="col-md-12">
        <!-- BEGIN EXAMPLE TABLE PORTLET-->
        <div class="portlet light ">
            <div class="portlet-title">
                <div class="caption font-dark">
                    <i class="icon-settings font-dark"></i>
                    <span class="caption-subject bold uppercase">共读维护</span>
                </div>
            </div>
			<div class="portlet-body form">
				<form class="form-horizontal" ng-submit="onSubmit()" form-submit form-sub-param-obj="formSubParamObj" novalidate="novalidate" role="form">
				    <div class="form-body">
				    	 <div class="form-group">
				    	 	<div>
				    	 		<label class="control-label col-md-3">年</label>
			                    <div class="col-md-2">
					                <div class="margin-bottom-10">
					                    <select class="bs-select form-control" data-width="125px" ng-change="year(x)" ng-model='x' id="year" >
					                        <option value='2018'>2018</option>
					                        <option value='2019'>2019</option>
					                        <option value='2020'>2020</option>
					                        <option value='2021'>2021</option>
					                        <option value='2022'>2022</option>
					                        <option value='2023'>2023</option>
					                        <option value='2024'>2024</option>
					                        <option value='2025'>2025</option>
					                        <option value='2026'>2026</option>
					                        <option value='2027'>2027</option>
					                        <option value='2028'>2028</option>
					                        <option value='2026'>2029</option>
					                        <option value='2027'>2030</option>
					                        <option value='2028'>2031</option>
					                    </select>
					                </div>
					            </div>
				    	 	</div>
				    	 	<div>
				    	 		<label class="control-label col-md-1">期</label>
					            <div class="col-md-2">
					                <div class="margin-bottom-10">
					                    <select class="bs-select form-control" data-width="125px" ng-change="queryBook(y)" ng-model='y'>
					                        <option ng-repeat="item in periodsNumber" value="{{item.gdId}}">{{item.gdTitle}}</option>
					                    </select>
					                </div>
					            </div>
				    	 	</div>
				    	 	<div>
				    	 		<label class="control-label col-md-1"></label>
					            <div class="col-md-2">
					                <div class="margin-bottom-10" id="addBook">
			                    		<button type="button" class="btn sbold green">新增 <i class="fa fa-plus"></i></button>
					                </div>
					            </div>
				    	 	</div>
				        </div>
				        <div class="form-group">
			                <label class="control-label col-md-3" for="name">名称</label>
			                <div class="col-md-5">
			                	<div class="margin-bottom-10">
			                    	<input type="text" class="form-control" id="name" ng-model="formModels.gdTitle" placeholder="请输入名称" required="required" ng-maxlength="20" ng-maxlength-err-type="maxErr">
				                </div>
			                </div>
			            </div>
			            <div class="form-group">
			                <label class="control-label col-md-3">报名起始日期</label>
			                <div class="col-md-5">
			                    <div class="input-group date-picker input-daterange" data-date="2012-10-11" data-date-format="yyyy-mm-dd">
			                        <input type="text" class="form-control" name="from" ng-model="formModels.signupBeginDate" required="required">
			                        <span class="input-group-addon"> 至 </span>
			                        <input type="text" class="form-control" name="to" ng-model="formModels.signupEndDate" required="required" id="signupEndDate"> 
			                    </div>
			                </div>
			            </div>
			            <div class="form-group">
			                <label class="control-label col-md-3">共读起始日期</label>
			                <div class="col-md-5">
			                    <div class="input-group input-daterange" data-date="10/11/2012" data-date-format="yyyy-mm-dd ">
			                        <input type="text" class="form-control date-picker" name="from" ng-model="formModels.gdBeginDate" required="required" data-date-format="yyyy-mm-dd " id="gdBeginDate">
			                        <span class="input-group-addon"> 至 </span>
			                        <input type="text" class="form-control" name="to11111" readonly="readonly" data-date-format="yyyy-mm-dd" ng-model="formModels.gdEndDate"> 
			                    </div>
			                </div>
			            </div>
			            <div class="form-group">
			                <label class="control-label col-md-3">发起人</label>
			                <div class="col-md-5">
			                	<div class="margin-bottom-10">
			                    	<input type="text" class="form-control" placeholder="请输入发起人" ng-model="formModels.sponsorUser" required="required" ng-maxlength="20" ng-maxlength-err-type="maxErr">
				                </div>
			                </div>
			            </div>
			            <div class="form-group">
			                <label class="control-label col-md-3">共读口号</label>
			                <div class="col-md-5">
			                	<div class="margin-bottom-10">
			                    	<input type="text" class="form-control" placeholder="请输入共读口号" ng-model="formModels.gdSlogan" required="required" ng-maxlength="20" ng-maxlength-err-type="maxErr">
				                </div>
			                </div>
			            </div>
			            <div class="form-group">
			                <label class="control-label col-md-3">共读说明</label>
			                <div class="col-md-5">
			                	<div class="margin-bottom-10">
			                    	<textarea class="form-control" rows="3" placeholder="共读说明...." ng-model="formModels.gdInstr"></textarea>
				                </div>
			                </div>
			            </div>
			            <div class="form-group">
			                <div class="col-md-5">
			                	<div class="margin-bottom-10">
			                    	<input type="hidden" class="form-control"  ng-model="formModels.gdId">
				                </div>
			                </div>
			            </div>
			            <div class="form-group">
			                <label class="control-label col-md-3"></label>
			                <div class="col-md-5">
			                	<div class="margin-bottom-10" style="text-align: center;" >
			                		<!--<button type="button" class="btn green" type="submit" id="up">保存  <i class='fa fa-check'></i></button>-->
			                		
			                    	<button class="btn btn-primary green" ladda="submitting" data-style="expand-right" type="submit" id="save">
			                    		<span ng-show="submitting">正在保存...</span>
		    							<span ng-show="!submitting" >保存  <i class='fa fa-pencil'></i></span>
			                    	</button>
			                    	<button type="button" class="btn btn-warning red-thunderbird" ng-click="removeBook()" id="delete" style="display: none;"> 删除  <i class="fa fa-trash-o"></i></button>
			                    	<!--<button type="button" class="btn default button-previous">取消  <i class="glyphicon glyphicon-ban-circle"></i></button>
			                    	<button type="button" class="btn blue">选择图书<span class="glyphicon glyphicon-search"></span></button>-->
			                    	<a class="btn btn-outline green hide" data-toggle="modal" data-target="#responsive" ng-click="selectBook()" id="selectBook" >选择图书<span class="glyphicon glyphicon-search"></span> </a>
				                </div>
			                </div>
			            </div>
			            
			 	    </div>
				</form>
				<div class="form-group footer" id="footer">
	            	<label class="control-label col-md-2"></label>
	                <div class="col-md-10">
	                	<div class="margin-bottom-10"  id="js-grid-juicy-projects">
	                		<div class="cbp-item graphic" ng-repeat="item in queryBookImg">
		                        <div class="cbp-caption">
		                            <div class="cbp-caption-defaultWrap">
		                                <img ng-src={{item.bookSltPath}} alt="" style="width: 252px;"> </div>
		                            <div class="cbp-caption-activeWrap">
		                                <div class="cbp-l-caption-alignCenter">
		                                    <div class="cbp-l-caption-body">
		                                        <button class="btn green-sharp btn-large blue">详情</button>
		                                        <button class="btn green-sharp red " data-toggle="confirmation" data-placement="bottom" ng-click="removeImg(item.bookId)" id="{{item.bookId}}">删除</button>
		                                    </div>
		                                </div>
		                            </div>
		                        </div>
		                    </div>
		                </div>
	                </div>
	            </div>
	            <div class="form-group" style="height: 50px;display: none;" id="registerSignIn">
	                <label class="control-label col-md-3"></label>
	                <div class="col-md-5">
	                	<div class="margin-bottom-10" style="text-align: center;">
	                    	<button type="button" class="btn green">报名<span>{{formModels.signNum}}</span></button>
	                    	<button type="button" class="btn green">签到<span>{{formModels.applyNum}}</span></button>
		                </div>
	                </div>
	            </div>
			</div>
		</div>
	</div>
</div>
<div id="responsive" class="modal fade" tabindex="-1" data-width="1000" style="margin-left: -400px;margin-top: -400px;">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
        <h4 class="modal-title">选择图书</h4>
    </div>
    <div class="modal-body">
        <div class="row">
			<div class="col-md-12">
				<!-- BEGIN EXAMPLE TABLE PORTLET-->
				<div class="portlet light ">
					
					<div class="portlet-body">
						<!-- 查询条件   -->
						<form action="#" id="bookForm" class="form-horizontal form-bordered">
							<div class="form-body">
								<div class="form-group col-md-6">
									<label class="control-label col-md-4">图书名称：</label>
									<div class="col-md-6">
										<input class="form-control" id="mask_date" type="text" name="bookName"/>
									</div>
								</div>
								<div class="form-group col-md-6">
									<label class="control-label col-md-4">图书作者：</label>
									<div class="col-md-6">
										<input class="form-control" id="mask_date1" type="text" name="bookAuthor"/>
									</div>
								</div>
								<input type="text" name="page" value="1" class="hidden page" />
								<input type="text" name="rows" value="5" class="hidden rows" />
							</div>
							<div class="form-actions">
								<div class="row">
									<div class="col-md-offset-5 col-md-7" style="margin-top:30px;">
										<!--<button ng-click="selectBook()" class="btn green" >查询   <i class="icon-magnifier"></i></button>
										<button type="reset" class="btn default">重置</button>-->
										<button type="button" ng-click="selectBook()" class="btn green">查询   <i class="icon-magnifier"></i></button>
										<button type="button" class="btn default">重置</button>
									</div>
								</div>
							</div>
						</form>
						<!-- 查询结果   -->
		
					</div>
				</div>
				<!-- END EXAMPLE TABLE PORTLET-->
			</div>
		</div>
		<!--  -->
		<!--  -->
		<div class="row">
			<div class="col-md-12">
				<!-- BEGIN EXAMPLE TABLE PORTLET-->
				<div class="portlet light ">
		            <div class="portlet-body">
		                <table class="table table-striped table-bordered table-hover table-checkable order-column" id="sample_1">
		                    <thead>
		                        <tr>
		                            <th>选择
		                                <!--<label class="mt-checkbox mt-checkbox-single mt-checkbox-outline">
		                                    <input type="checkbox" class="group-checkable" data-set="#sample_1 .checkboxes" />
		                                    <span></span>
		                                </label>-->
		                            </th>
		                            <th> 图片 </th>
		                            <th> 书名 </th>
		                            <th> 作者 </th>
		                            <th> 分类 </th>
		                            <th> 章节数 </th>
		                        </tr>
		                    </thead>
		                    <tbody>
		                        <tr class="odd gradeX" ng-repeat = "item in bookList">
		                            <td>
		                                <label class="mt-checkbox mt-checkbox-single mt-checkbox-outline">
		                                    <input type="checkbox" class="checkboxes" value="1" data-value="{{item}}" name="batch" />
		                                    <span></span>
		                                </label>
		                            </td>
		                            <td><img src="{{item.bookSltPath}}" style="width: 30px;height: 30px;" /></td>
		                            <td> {{item.bookName}} </td>
		                            <td>{{item.bookAuthor}}</td>
		                            <td class="center"> {{item.bookTag}} </td>
		                            <td> {{item.chapterSum}} </td>
		                        </tr>
		                    </tbody>
		                </table>
		                <div  class="row" style="overflow: hidden;" id="page"></div>
		            </div>
		        </div>
				<!-- END EXAMPLE TABLE PORTLET-->
			</div>
		</div>
    </div>
    <div class="modal-footer">
    	<button type="button" data-dismiss="modal" class="btn btn-outline dark" id="return">确认</button>
        <button type="button" data-dismiss="modal" class="btn btn-outline dark">关闭</button>
    </div>
</div>
<style>
	.popover{
		min-width: 150px;
	}
</style>
<!--<script src="libs/bootstrap-confirmation/bootstrap-confirmation.js" type="text/javascript"></script>
<script src="libs/ui-confirmations.js" type="text/javascript"></script>-->
<script>
	ComponentsDateTimePickers.init();
	/*Datatable();*/
</script>